{"ast":null,"code":"import { microSeconds as micro, isNode } from '../util';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.bc.postMessage(messageJson, false);\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (isNode && typeof window === 'undefined') return false;\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else return false;\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","map":{"version":3,"names":["microSeconds","micro","isNode","type","create","channelName","state","messagesCallback","bc","BroadcastChannel","subFns","onmessage","msg","data","close","channelState","postMessage","messageJson","onMessage","fn","canBeUsed","window","_pubkey","Error","averageResponseTime"],"sources":["C:/Users/Admin/Desktop/LEARN REACTJS/Frontend-ReactJS-QuickStart/node_modules/broadcast-channel/dist/es/methods/native.js"],"sourcesContent":["import { microSeconds as micro, isNode } from '../util';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.bc.postMessage(messageJson, false);\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (isNode && typeof window === 'undefined') return false;\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else return false;\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};"],"mappings":"AAAA,SAASA,YAAY,IAAIC,KAAK,EAAEC,MAAM,QAAQ,SAAS;AACvD,OAAO,IAAIF,YAAY,GAAGC,KAAK;AAC/B,OAAO,IAAIE,IAAI,GAAG,QAAQ;AAC1B,OAAO,SAASC,MAAMA,CAACC,WAAW,EAAE;EAClC,IAAIC,KAAK,GAAG;IACVC,gBAAgB,EAAE,IAAI;IACtBC,EAAE,EAAE,IAAIC,gBAAgB,CAACJ,WAAW,CAAC;IACrCK,MAAM,EAAE,EAAE,CAAC;EAEb,CAAC;;EAEDJ,KAAK,CAACE,EAAE,CAACG,SAAS,GAAG,UAAUC,GAAG,EAAE;IAClC,IAAIN,KAAK,CAACC,gBAAgB,EAAE;MAC1BD,KAAK,CAACC,gBAAgB,CAACK,GAAG,CAACC,IAAI,CAAC;IAClC;EACF,CAAC;EAED,OAAOP,KAAK;AACd;AACA,OAAO,SAASQ,KAAKA,CAACC,YAAY,EAAE;EAClCA,YAAY,CAACP,EAAE,CAACM,KAAK,CAAC,CAAC;EACvBC,YAAY,CAACL,MAAM,GAAG,EAAE;AAC1B;AACA,OAAO,SAASM,WAAWA,CAACD,YAAY,EAAEE,WAAW,EAAE;EACrDF,YAAY,CAACP,EAAE,CAACQ,WAAW,CAACC,WAAW,EAAE,KAAK,CAAC;AACjD;AACA,OAAO,SAASC,SAASA,CAACH,YAAY,EAAEI,EAAE,EAAE;EAC1CJ,YAAY,CAACR,gBAAgB,GAAGY,EAAE;AACpC;AACA,OAAO,SAASC,SAASA,CAAA,EAAG;EAC1B;AACF;AACA;AACA;EACE,IAAIlB,MAAM,IAAI,OAAOmB,MAAM,KAAK,WAAW,EAAE,OAAO,KAAK;EAEzD,IAAI,OAAOZ,gBAAgB,KAAK,UAAU,EAAE;IAC1C,IAAIA,gBAAgB,CAACa,OAAO,EAAE;MAC5B,MAAM,IAAIC,KAAK,CAAC,qGAAqG,CAAC;IACxH;IAEA,OAAO,IAAI;EACb,CAAC,MAAM,OAAO,KAAK;AACrB;AACA,OAAO,SAASC,mBAAmBA,CAAA,EAAG;EACpC,OAAO,GAAG;AACZ;AACA,eAAe;EACbpB,MAAM,EAAEA,MAAM;EACdU,KAAK,EAAEA,KAAK;EACZI,SAAS,EAAEA,SAAS;EACpBF,WAAW,EAAEA,WAAW;EACxBI,SAAS,EAAEA,SAAS;EACpBjB,IAAI,EAAEA,IAAI;EACVqB,mBAAmB,EAAEA,mBAAmB;EACxCxB,YAAY,EAAEA;AAChB,CAAC"},"metadata":{},"sourceType":"module"}